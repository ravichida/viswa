{"ast":null,"code":"import _classCallCheck from\"/home/ravi/projects/react/viswa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ravi/projects/react/viswa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/ravi/projects/react/viswa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/ravi/projects/react/viswa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/ravi/projects/react/viswa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/ravi/projects/react/viswa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{BrowserRouter as Router,Link,Switch,Route}from'react-router-dom';import Firebase from'../node_modules/firebase';import config from'./config';import OrderDetails from'./orderdetails';import OrderDetailsList from'./orderdetailslist';import AddOrder from'./addorder';import Home from'./home';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.writeUserData=function(){Firebase.database().ref('/').set(_this.state);console.log('DATA SAVED');};_this.getUserData=function(){var ref=Firebase.database().ref('/');ref.on('value',function(snapshot){var state=snapshot.val();_this.setState(state);});console.log('DATA RETRIEVED');};_this.addData=function(user){// console.clear();\nconsole.log(\"Add Data\");if(user){console.log(user);var users=_this.state.users;users.push(user);_this.setState({users:users});}};_this.removeData=function(user){var users=_this.state.users;var newState=users.filter(function(data){return data.uid!==user.uid;});_this.setState({users:newState});};_this.updateData=function(user){_this.refs.uid.value=user.uid;_this.refs.fname.value=user.fname;_this.refs.lname.value=user.lname;_this.refs.email.value=user.email;_this.refs.phone.value=user.phone;_this.refs.order.value=user.order;_this.refs.orderno.value=user.orderno;_this.refs.items.value=user.items;_this.refs.price.value=user.price;_this.refs.total.value=user.total;};Firebase.initializeApp(config);_this.state={users:[]};_this.addData=_this.addData.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.getUserData();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){// check on previous state\n// only write when it's different with the new state\nif(prevState!==this.state){this.writeUserData();}}},{key:\"render\",value:function render(){var _this2=this;var users=this.state.users;return React.createElement(\"div\",{className:\"container-fluid\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-xl-12\"},React.createElement(\"h2\",null,\"Viswa Order Details\"))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-xl-12\"},React.createElement(\"ul\",{className:\"nav nav-tabs\"},React.createElement(\"li\",{className:\"nav-item active\"},React.createElement(\"a\",{href:\"/\",className:\"nav-link\"},\"Home\")),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(\"a\",{href:\"/olist\",className:\"nav-link\"},\"Orders\")),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(\"a\",{href:\"/od\",className:\"nav-link\"},\"Order Details\")),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(\"a\",{href:\"/add\",className:\"nav-link\"},\"Add Order\"))))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-xl-12\"},React.createElement(\"div\",{style:{height:\"25px\"}}))),React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-xl-12\"},React.createElement(Router,{basename:process.env.PUBLIC_URL},React.createElement(Switch,null,React.createElement(Route,{exact:true,path:\"/\",component:Home}),React.createElement(Route,{path:\"/olist\",render:function render(props){return React.createElement(OrderDetailsList,{users:_this2.state.users});}}),React.createElement(Route,{path:\"/od\",render:function render(props){return React.createElement(OrderDetails,{users:_this2.state.users});}}),React.createElement(Route,{path:\"/add\",render:function render(props){return React.createElement(AddOrder,{users:_this2.state.users,action:_this2.addData});}}))))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/home/ravi/projects/react/viswa/src/App.js"],"names":["React","BrowserRouter","Router","Link","Switch","Route","Firebase","config","OrderDetails","OrderDetailsList","AddOrder","Home","App","props","writeUserData","database","ref","set","state","console","log","getUserData","on","snapshot","val","setState","addData","user","users","push","removeData","newState","filter","data","uid","updateData","refs","value","fname","lname","email","phone","order","orderno","items","price","total","initializeApp","bind","prevProps","prevState","height","process","env","PUBLIC_URL","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { BrowserRouter as Router, Link, Switch, Route} from 'react-router-dom';\nimport Firebase from '../node_modules/firebase';\nimport config from './config';\nimport OrderDetails from './orderdetails';\nimport OrderDetailsList from './orderdetailslist';\nimport AddOrder from './addorder';\nimport Home from './home';\n\nclass App extends React.Component {\n\n  constructor(props){\n    super(props);\n    Firebase.initializeApp(config);\n\n    this.state = {\n      users: []\n    }\n\n    this.addData = this.addData.bind(this);\n\n  }\n\n  writeUserData = () => {\n    Firebase.database().ref('/').set(this.state);\n    console.log('DATA SAVED');\n  }\n  \n  getUserData = () => {\n    let ref = Firebase.database().ref('/');\n    ref.on('value', snapshot => {\n      const state = snapshot.val();\n      this.setState(state);\n    });\n    console.log('DATA RETRIEVED');\n  }\n\n  componentDidMount() {\n    this.getUserData();\n  }\n  \n  componentDidUpdate(prevProps, prevState) {\n    // check on previous state\n    // only write when it's different with the new state\n    if (prevState !== this.state) {\n      this.writeUserData();\n    }\n  }\n  render() {\n    const { users } = this.state;\n    return(\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className='col-xl-12'>\n            <h2>Viswa Order Details</h2>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xl-12\">\n            <ul className=\"nav nav-tabs\">\n                  <li className=\"nav-item active\"><a href=\"/\" className=\"nav-link\">Home</a></li>\n                  <li className=\"nav-item\"><a href=\"/olist\" className=\"nav-link\">Orders</a></li>\n                  <li className=\"nav-item\"><a href=\"/od\" className=\"nav-link\">Order Details</a></li>\n                  <li className=\"nav-item\"><a href=\"/add\" className=\"nav-link\">Add Order</a></li>\n                </ul>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xl-12\">\n            <div style={{height: \"25px\" }}></div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className='col-xl-12'>\n            <Router basename={process.env.PUBLIC_URL}>\n            {/* <Link to=\"/\">Home</Link> | <Link to=\"/olist\">Orders</Link> | <Link to=\"/od\">Order Details</Link> | <Link to=\"/add\">Add Order</Link> */}\n              <Switch>\n                <Route exact path=\"/\" component={ Home } />\n                <Route path=\"/olist\" render={props => <OrderDetailsList users={this.state.users} />} />\n                <Route path=\"/od\" render={props => <OrderDetails users={this.state.users} />} />\n                <Route path=\"/add\" render={props => <AddOrder users={this.state.users} action={this.addData} />} />\n              </Switch>\n            </Router>\n          </div>\n        </div>\n      </div>\n    )\n  }\n  \n  addData = user => {\n    // console.clear();\n    console.log(\"Add Data\");\n    if(user){\n      console.log(user);\n      const { users } = this.state;\n      users.push(user)\n      this.setState({ users });\n    }\n  }\n  \n  removeData = (user) => {\n    const { users } = this.state;\n    const newState = users.filter(data => {\n      return data.uid !== user.uid;\n    });\n    this.setState({ users: newState });\n  }\n  \n  updateData = (user) => {\n    this.refs.uid.value = user.uid;\n    this.refs.fname.value = user.fname;\n    this.refs.lname.value = user.lname;\n    this.refs.email.value = user.email;\n    this.refs.phone.value = user.phone;\n    this.refs.order.value = user.order;\n    this.refs.orderno.value = user.orderno;\n    this.refs.items.value = user.items;\n    this.refs.price.value = user.price;\n    this.refs.total.value = user.total;\n  }\n\n\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}