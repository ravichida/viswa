(this.webpackJsonpviswa=this.webpackJsonpviswa||[]).push([[0],{167:function(e,a,t){"use strict";t.r(a);var r=t(0),l=t.n(r),n=t(41),s=t.n(n),c=(t(87),t(88),t(10)),o=t(11),m=t(13),i=t(12),d=t(6),u=t(14),p=t(25),f=t(49),E=t(53),v=t.n(E),h={apiKey:"AIzaSyD-oPhFanNSFyEuhewxCDSu8WrqzAgIn6E",authDomain:"ajax-3f330.firebaseapp.com",databaseURL:"https://ajax-3f330.firebaseio.com"},b=t(23),N=t.n(b),D=t(20),O=t(65),g=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).updateField=function(e,a){a.preventDefault(),t.setState({user:Object(O.a)({},t.state.user,Object(D.a)({},e,"checkbox"===a.target.type?a.target.checked:a.target.value))})},t.updateChange=function(e){if(e.preventDefault(),"function"===typeof t.props.update){var a;a=Object(O.a)({},t.state.user,{name:t.state.user.fname+" "+t.state.user.lname}),console.log("User details @ update.js",a),t.props.update(a)}},t.updateChange=t.updateChange.bind(Object(d.a)(t)),t.updateField=t.updateField.bind(Object(d.a)(t)),t.uid=l.a.createRef(),t.fname=l.a.createRef(),t.lname=l.a.createRef(),t.email=l.a.createRef(),t.phone=l.a.createRef(),t.order=l.a.createRef(),t.orderno=l.a.createRef(),t.items=l.a.createRef(),t.price=l.a.createRef(),t.total=l.a.createRef(),t.state={user:{uid:"",fname:"",lname:"",email:"",phone:"",order:"",orderno:"",items:"",price:"",total:""}},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.props.user!==e.user&&this.setState({user:e.user})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement("h4",{className:"my-3"},"Update Order"),l.a.createElement("form",null,l.a.createElement("div",{className:"form-row"},l.a.createElement("input",{type:"hidden",ref:this.uid,value:this.state.user.uid||""}),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Oder No"),l.a.createElement("input",{type:"text",ref:this.orderno,value:this.state.user.orderno||"",onChange:function(a){return e.updateField("orderno",a)},className:"form-control",placeholder:"Oder No"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Oder Name"),l.a.createElement("input",{type:"text",ref:this.order,value:this.state.user.order||"",onChange:function(a){return e.updateField("order",a)},className:"form-control",placeholder:"Oder Name"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Number of Items"),l.a.createElement("input",{type:"number",ref:this.items,value:this.state.user.items||"",onChange:function(a){return e.updateField("items",a)},className:"form-control",placeholder:"Number of Items"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Item Price"),l.a.createElement("input",{type:"number",ref:this.price,value:this.state.user.price||"",onChange:function(a){return e.updateField("price",a)},className:"form-control",placeholder:"Item Cost"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Total"),l.a.createElement("input",{type:"text",ref:this.total,value:this.state.user.total||"",onChange:function(a){return e.updateField("total",a)},className:"form-control",placeholder:"Total Cost"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"First Name"),l.a.createElement("input",{type:"text",ref:this.fname,value:this.state.user.fname||"",onChange:function(a){return e.updateField("fname",a)},className:"form-control",placeholder:"First Name"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Last Name"),l.a.createElement("input",{type:"text",ref:this.lname,value:this.state.user.lname||"",onChange:function(a){return e.updateField("lname",a)},className:"form-control",placeholder:"Last Name"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{type:"text",ref:this.email,value:this.state.user.email||"",onChange:function(a){return e.updateField("email",a)},className:"form-control",placeholder:"Email"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Mobile / Phone No"),l.a.createElement("input",{type:"number",ref:this.phone,value:this.state.user.phone||"",onChange:function(a){return e.updateField("phone",a)},className:"form-control",placeholder:"Mobile / Phone No"}))),l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.updateChange,"data-toggle":"modal","data-target":"#orderModal","data-show":"false"},"Save"))))}}]),a}(l.a.Component),y=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).updateList=function(e){"function"===typeof t.props.update&&(console.log("updateParent ModalDialog.js",e),t.props.update(e))},t.updateList=t.updateList.bind(Object(d.a)(t)),t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"modal fade",id:"orderModal",role:"dialog"},l.a.createElement("div",{className:"modal-dialog",style:{maxWidth:"80%"}},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h4",{className:"modal-title"},"Modal Options"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),l.a.createElement("div",{className:"modal-body"},l.a.createElement(g,{user:this.props.user,update:this.updateList})),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal"},"Close"))))))}}]),a}(l.a.Component),j=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).editData=t.editData.bind(Object(d.a)(t)),t.updateApp=t.updateApp.bind(Object(d.a)(t)),t.removeData=t.removeData.bind(Object(d.a)(t)),t.state={user:{}},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement("h4",{className:"my-3"},"Order Details"),this.props.users.map((function(a){return l.a.createElement("div",{key:a.uid,className:"d-inline-flex flex-row",style:{margin:"0.5rem",maxWidth:"450px"}},l.a.createElement("div",{className:"card-deck pt-1 mb3"},l.a.createElement("div",{className:"card text-dark d-flex align-items-stretch"},l.a.createElement("div",{className:"card-body text-primary"},l.a.createElement("h5",{className:"card-title"},l.a.createElement("span",{className:""},"Name: ")," ",a.name),l.a.createElement("h5",{className:"card-title"},l.a.createElement("span",{className:""},"First Name: ")," ",a.fname,", ",l.a.createElement("span",{className:""},"Last Name: ")," ",a.lname),l.a.createElement("p",{className:"card-text"},l.a.createElement("span",{className:""},"Order No: ")," ",a.orderno),l.a.createElement("p",{className:"card-text"},l.a.createElement("span",{className:""},"Order: ")," ",a.order),l.a.createElement("p",{className:"card-text"},l.a.createElement("span",{className:""},"Items: "),a.items,", ",l.a.createElement("span",{className:""},"Price: "),l.a.createElement("i",{className:"fa fa-inr"})," ",a.price,", ",l.a.createElement("span",{className:""},"Total: "),l.a.createElement("i",{className:"fa fa-inr"})," ",a.total),l.a.createElement("p",{className:"card-text"},l.a.createElement("span",{className:""},"Email: "),a.email),l.a.createElement("p",{className:"card-text"},l.a.createElement("span",{className:""},"Mobole: "),a.phone),l.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(t){return e.removeData(a,t)}},"Delete"),l.a.createElement("button",{type:"button",className:"btn btn-primary ml-3",onClick:function(t){return e.editData(a,t)}},"Edit")))))})))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement(y,{user:this.state.user,update:this.updateApp}),l.a.createElement("div",null))))}},{key:"updateApp",value:function(e){"function"===typeof this.props.update&&(console.log("updateParent OrderDList.js",e),this.props.update(e),N()("#orderModal").modal({show:!1}))}},{key:"removeData",value:function(e,a){a.preventDefault(),"function"===typeof this.props.remove&&(console.log("Remove Data @ odlist.js",e),this.props.remove(e))}},{key:"editData",value:function(e,a){a.preventDefault(),N()("#orderModal").modal({show:!0}),this.setState({user:e})}}]),a}(l.a.Component),x=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).editData=t.editData.bind(Object(d.a)(t)),t.updateApp=t.updateApp.bind(Object(d.a)(t)),t.removeData=t.removeData.bind(Object(d.a)(t)),t.state={user:{}},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement("h4",{className:"my-3"},"Order Details List"),l.a.createElement("table",{className:"table table-striped"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{width:"7%"},"Order"),l.a.createElement("th",{width:"20%"},"Order Name"),l.a.createElement("th",{width:"20%"},"Customer Name"),l.a.createElement("th",null,"Items"),l.a.createElement("th",null,"Cost"),l.a.createElement("th",null,"Total"),l.a.createElement("th",null,"Delete"),l.a.createElement("th",null,"Edit")),this.props.users.map((function(a){return l.a.createElement("tr",{key:a.uid,style:{}},l.a.createElement("td",{className:""},a.orderno),l.a.createElement("td",{className:""},a.order),l.a.createElement("td",{className:""},a.name),l.a.createElement("td",{className:""},a.items),l.a.createElement("td",{className:""},a.price),l.a.createElement("td",{className:""},a.total),l.a.createElement("td",{className:""},l.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(t){return e.removeData(a,t)}},"Delete")),l.a.createElement("td",{className:""},l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(t){return e.editData(a,t)}},"Edit")))})))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement(y,{user:this.state.user,update:this.updateApp}),l.a.createElement("div",null))))}},{key:"updateApp",value:function(e){"function"===typeof this.props.update&&(console.log("updateParent OrderDList.js",e),this.props.update(e),N()("#orderModal").modal({show:!1}))}},{key:"removeData",value:function(e,a){a.preventDefault(),"function"===typeof this.props.remove&&(console.log("Remove Data @ odlist.js",e),this.props.remove(e))}},{key:"editData",value:function(e,a){a.preventDefault(),N()("#orderModal").modal({show:!0}),this.setState({user:e})}}]),a}(l.a.Component),k=t(78),C=t.n(k),w=(t(99),function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).state={startDate:new Date},t.handleChange=function(e){t.setState({startDate:e})},t.addUser=function(e){console.log("Added form details"),e.preventDefault();var a=t.refs.name.value,r=t.refs.email.value,l=t.refs.phone.value,n=t.refs.order.value,s=t.refs.items.value,c=t.refs.price.value,o=(parseInt(s)*parseInt(c)).toLocaleString("en-IN"),m=t.refs.uid.value,i=t.state.startDate,d=a&&r&&l&&n&&s&&c&&o;if(m&&d){var u=t.state.users,p=u.findIndex((function(e){return e.uid===m}));u[p].name=a,u[p].email=r,u[p].phone=l,u[p].order=n,u[p].items=s,u[p].price=c,u[p].total=o,u[p].oDate=i,t.setState({users:u})}else if(d){var f,E=(new Date).getTime().toString(),v=(f={email:r,name:a,items:s},Object(D.a)(f,"name",a),Object(D.a)(f,"order",n),Object(D.a)(f,"phone",l),Object(D.a)(f,"price",c),Object(D.a)(f,"total",o),Object(D.a)(f,"uid",E),Object(D.a)(f,"oDate",i),f);t.props.action(v),console.log(v)}t.refs.uid.value="",t.refs.name.value="",t.refs.email.value="",t.refs.phone.value="",t.refs.order.value="",t.refs.items.value="",t.refs.price.value="",t.refs.total.value="",t.refs.oDate.value=""},t.add=function(){t.props.action({email:"email@sample.com",fname:"Ravi",items:"200",lname:"Test",name:"Ravi Test",order:"Ravi Books",orderno:"8001",phone:"8123456789",price:"50",total:"10,000",oDate:"03/10/08",uid:"1675303448945"})},t.state={users:[]},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement("h4",{className:"my-3"},"Add Order"),l.a.createElement("form",null,l.a.createElement("div",{className:"form-row"},l.a.createElement("input",{type:"hidden",ref:"uid"}),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Order Name"),l.a.createElement("input",{type:"text",ref:"order",className:"form-control",placeholder:"Oder Name"}),l.a.createElement("div",{className:"danger"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Number of Items"),l.a.createElement("input",{type:"number",ref:"items",className:"form-control",placeholder:"Number of Items"}),l.a.createElement("div",{className:"danger"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Item Price"),l.a.createElement("input",{type:"number",ref:"price",className:"form-control",placeholder:"Item Cost"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Total"),l.a.createElement("input",{type:"text",ref:"total",className:"form-control",placeholder:"Total Cost"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Name"),l.a.createElement("input",{type:"text",ref:"name",className:"form-control",placeholder:"Name"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{type:"text",ref:"email",className:"form-control",placeholder:"Email"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Mobile / Phone No"),l.a.createElement("input",{type:"number",max:999999999999,ref:"phone",className:"form-control",placeholder:"Mobile / Phone No"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("h6",null,"Date"),l.a.createElement(C.a,{selected:this.state.startDate,onChange:this.handleChange,ref:"oDate"}))),l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.addUser},"Save"))))}}]),a}(l.a.Component)),A=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).editData=t.editData.bind(Object(d.a)(t)),t.updateApp=t.updateApp.bind(Object(d.a)(t)),t.removeData=t.removeData.bind(Object(d.a)(t)),t.state={user:{}},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement("h4",{className:"my-3"},"Orders List"),this.props.users.map((function(e){return l.a.createElement("div",{className:"row bg-success"},l.a.createElement("div",{className:"mt-2 col-md-4"},l.a.createElement("strong",null,"Order Name"),": ",e.order,"."),l.a.createElement("div",{className:"mt-2 col-md-2"},l.a.createElement("strong",null,"Items"),": ",e.items,"."),l.a.createElement("div",{className:"mt-2 col-md-2"},l.a.createElement("strong",null,"Cost"),": ",e.price,"."),l.a.createElement("div",{className:"mt-2 col-md-2"},l.a.createElement("strong",null,"Total"),": ",e.total,"."),l.a.createElement("div",{className:"mt-2 mb-4 col-md-2"},l.a.createElement("strong",null,"Call"),": ",l.a.createElement("a",{href:"tele:"+e.phone,className:"btn btn-info",role:"button"},l.a.createElement("i",{className:"fas fa-phone-alt"}," "))))})))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement(y,{user:this.state.user,update:this.updateApp}),l.a.createElement("div",null))))}},{key:"updateApp",value:function(e){"function"===typeof this.props.update&&(console.log("updateParent OrderDList.js",e),this.props.update(e),N()("#orderModal").modal({show:!1}))}},{key:"removeData",value:function(e,a){a.preventDefault(),"function"===typeof this.props.remove&&(console.log("Remove Data @ odlist.js",e),this.props.remove(e))}},{key:"editData",value:function(e,a){a.preventDefault(),N()("#orderModal").modal({show:!0}),this.setState({user:e})}}]),a}(l.a.Component),I=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).state={activeId:1},t.Links=[{name:"Home",path:"/",id:1},{name:"Orders",path:"/olist",id:2},{name:"Details",path:"/od",id:3},{name:"Add",path:"/add",id:4}],t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"handleClick",value:function(e,a){this.setState({activeId:a})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("nav",{className:"nav nav-pills nav-justified"},this.Links.map((function(a){return l.a.createElement(f.b,{key:a.id,to:a.path,className:e.state.activeId===a.id?"nav-item nav-link active":"nav-item nav-link",onClick:function(t){return e.handleClick(t,a.id)}},a.name)}))))}}]),a}(l.a.Component),R=(l.a.Component,t(158),function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).writeUserData=function(){v.a.database().ref("/").set(t.state),console.log("DATA SAVED")},t.getUserData=function(){v.a.database().ref("/").on("value",(function(e){var a=e.val();t.setState(a,(function(){console.log("DATA RETRIEVED Users",this.state.users)}))})),console.log("DATA RETRIEVED")},t.addData=function(e){if(e){var a=t.state.users;console.log("users Data",a),a.push(e),t.setState({users:a})}},t.removeData=function(e){if(e){var a=t.state.users,r=a.filter((function(a){return a.uid!==e.uid}));a!==r&&t.setState({users:r}),console.log("Updated Users state")}},t.updateData=function(e){if(console.log("updateData fun in app.js",e),e){console.log("if user in app.js");var a=e.fname,r=e.lname,l=e.email,n=e.phone,s=e.order,c=e.orderno,o=e.items,m=e.price,i=e.name,d=e.total,u=e.uid;if(u&&(a&&r&&i&&l&&n&&s&&c&&o&&m&&d)){console.log("Update condition met");var p=t.state.users,f=p.findIndex((function(e){return e.uid===u}));console.log("devIndex",f),p[f].fname=a,p[f].lname=r,p[f].name=i,p[f].email=l,p[f].phone=n,p[f].order=s,p[f].orderno=c,p[f].items=o,p[f].price=m,p[f].total=d,t.setState({users:p})}console.log("Updateed State appjs",t.state.users)}},v.a.initializeApp(h),t.state={users:[]},t.addData=t.addData.bind(Object(d.a)(t)),t.updateData=t.updateData.bind(Object(d.a)(t)),t.removeData=t.removeData.bind(Object(d.a)(t)),t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(f.a,{basename:"/viswa"},l.a.createElement("div",{className:"container-fluid pt-3"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement("h2",null,"Viswa Orders"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement(I,null))),l.a.createElement("div",{className:"row  my-2"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement(p.d,null,l.a.createElement(p.b,{exact:!0,path:"/",render:function(a){return l.a.createElement(A,{users:e.state.users,update:e.updateData,remove:e.removeData})}}),l.a.createElement(p.b,{exact:!0,path:"/olist",render:function(a){return l.a.createElement(x,{users:e.state.users,update:e.updateData,remove:e.removeData})}}),l.a.createElement(p.b,{exact:!0,path:"/od",render:function(a){return l.a.createElement(j,{users:e.state.users,update:e.updateData,remove:e.removeData})}}),l.a.createElement(p.b,{exact:!0,path:"/add",render:function(a){return l.a.createElement(w,{users:e.state.users,action:e.addData})}}),l.a.createElement(p.b,{render:function(e){return l.a.createElement(p.a,{to:e})}}))))))}},{key:"componentDidMount",value:function(){this.getUserData()}},{key:"componentDidUpdate",value:function(e){console.log("componentDidUpdate",e,this.state),e.users!==this.state.users&&(this.writeUserData(),console.log("componentDidUpdate, writeUserData"))}}]),a}(l.a.Component));s.a.render(l.a.createElement(R,null),document.getElementById("root"))},82:function(e,a,t){e.exports=t(167)}},[[82,1,2]]]);
//# sourceMappingURL=main.941b851f.chunk.js.map