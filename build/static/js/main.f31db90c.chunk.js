(this.webpackJsonpviswa=this.webpackJsonpviswa||[]).push([[0],{36:function(e,a,t){e.exports=t(58)},58:function(e,a,t){"use strict";t.r(a);var r=t(0),l=t.n(r),n=t(32),s=t.n(n),c=(t(41),t(42),t(5)),o=t(6),m=t(8),i=t(7),d=t(3),u=t(9),p=t(15),f=t(23),E=t(24),v=t.n(E),h={apiKey:"AIzaSyD-oPhFanNSFyEuhewxCDSu8WrqzAgIn6E",authDomain:"ajax-3f330.firebaseapp.com",databaseURL:"https://ajax-3f330.firebaseio.com"},b=t(14),N=t.n(b),y=t(22),O=t(26),D=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).updateField=function(e,a){a.preventDefault(),t.setState({user:Object(O.a)({},t.state.user,Object(y.a)({},e,"checkbox"===a.target.type?a.target.checked:a.target.value))})},t.updateChange=function(e){if(e.preventDefault(),"function"===typeof t.props.update){var a;a=Object(O.a)({},t.state.user,{name:t.state.user.fname+" "+t.state.user.lname}),console.log("User details @ update.js",a),t.props.update(a)}},t.updateChange=t.updateChange.bind(Object(d.a)(t)),t.updateField=t.updateField.bind(Object(d.a)(t)),t.uid=l.a.createRef(),t.fname=l.a.createRef(),t.lname=l.a.createRef(),t.email=l.a.createRef(),t.phone=l.a.createRef(),t.order=l.a.createRef(),t.orderno=l.a.createRef(),t.items=l.a.createRef(),t.price=l.a.createRef(),t.total=l.a.createRef(),t.state={user:{uid:"",fname:"",lname:"",email:"",phone:"",order:"",orderno:"",items:"",price:"",total:""}},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.props.user!==e.user&&this.setState({user:e.user})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement("h4",{className:"my-3"},"Update Order"),l.a.createElement("form",null,l.a.createElement("div",{className:"form-row"},l.a.createElement("input",{type:"hidden",ref:this.uid,value:this.state.user.uid||""}),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Oder No"),l.a.createElement("input",{type:"text",ref:this.orderno,value:this.state.user.orderno||"",onChange:function(a){return e.updateField("orderno",a)},className:"form-control",placeholder:"Oder No"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Oder Name"),l.a.createElement("input",{type:"text",ref:this.order,value:this.state.user.order||"",onChange:function(a){return e.updateField("order",a)},className:"form-control",placeholder:"Oder Name"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Number of Items"),l.a.createElement("input",{type:"number",ref:this.items,value:this.state.user.items||"",onChange:function(a){return e.updateField("items",a)},className:"form-control",placeholder:"Number of Items"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Item Price"),l.a.createElement("input",{type:"number",ref:this.price,value:this.state.user.price||"",onChange:function(a){return e.updateField("price",a)},className:"form-control",placeholder:"Item Cost"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Total"),l.a.createElement("input",{type:"text",ref:this.total,value:this.state.user.total||"",onChange:function(a){return e.updateField("total",a)},className:"form-control",placeholder:"Total Cost"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"First Name"),l.a.createElement("input",{type:"text",ref:this.fname,value:this.state.user.fname||"",onChange:function(a){return e.updateField("fname",a)},className:"form-control",placeholder:"First Name"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Last Name"),l.a.createElement("input",{type:"text",ref:this.lname,value:this.state.user.lname||"",onChange:function(a){return e.updateField("lname",a)},className:"form-control",placeholder:"Last Name"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{type:"text",ref:this.email,value:this.state.user.email||"",onChange:function(a){return e.updateField("email",a)},className:"form-control",placeholder:"Email"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Mobile / Phone No"),l.a.createElement("input",{type:"number",ref:this.phone,value:this.state.user.phone||"",onChange:function(a){return e.updateField("phone",a)},className:"form-control",placeholder:"Mobile / Phone No"}))),l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.updateChange,"data-toggle":"modal","data-target":"#orderModal","data-show":"false"},"Save"))))}}]),a}(l.a.Component),g=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).updateList=function(e){"function"===typeof t.props.update&&(console.log("updateParent ModalDialog.js",e),t.props.update(e))},t.updateList=t.updateList.bind(Object(d.a)(t)),t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"modal fade",id:"orderModal",role:"dialog"},l.a.createElement("div",{className:"modal-dialog",style:{maxWidth:"80%"}},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h4",{className:"modal-title"},"Modal Options"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),l.a.createElement("div",{className:"modal-body"},l.a.createElement(D,{user:this.props.user,update:this.updateList})),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal"},"Close"))))))}}]),a}(l.a.Component),j=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).editData=t.editData.bind(Object(d.a)(t)),t.updateApp=t.updateApp.bind(Object(d.a)(t)),t.removeData=t.removeData.bind(Object(d.a)(t)),t.state={user:{}},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement("h4",{className:"my-3"},"Order Details"),this.props.users.map((function(a){return l.a.createElement("div",{key:a.uid,className:"d-inline-flex flex-row",style:{margin:"0.5rem",maxWidth:"450px"}},l.a.createElement("div",{className:"card-deck pt-1 mb3"},l.a.createElement("div",{className:"card text-dark d-flex align-items-stretch"},l.a.createElement("div",{className:"card-body text-primary"},l.a.createElement("h5",{className:"card-title"},l.a.createElement("span",{className:""},"Name: ")," ",a.name),l.a.createElement("h5",{className:"card-title"},l.a.createElement("span",{className:""},"First Name: ")," ",a.fname,", ",l.a.createElement("span",{className:""},"Last Name: ")," ",a.lname),l.a.createElement("p",{className:"card-text"},l.a.createElement("span",{className:""},"Order No: ")," ",a.orderno),l.a.createElement("p",{className:"card-text"},l.a.createElement("span",{className:""},"Order: ")," ",a.order),l.a.createElement("p",{className:"card-text"},l.a.createElement("span",{className:""},"Items: "),a.items,", ",l.a.createElement("span",{className:""},"Price: "),l.a.createElement("i",{className:"fa fa-inr"})," ",a.price,", ",l.a.createElement("span",{className:""},"Total: "),l.a.createElement("i",{className:"fa fa-inr"})," ",a.total),l.a.createElement("p",{className:"card-text"},l.a.createElement("span",{className:""},"Email: "),a.email),l.a.createElement("p",{className:"card-text"},l.a.createElement("span",{className:""},"Mobole: "),a.phone),l.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(t){return e.removeData(a,t)}},"Delete"),l.a.createElement("button",{type:"button",className:"btn btn-primary ml-3",onClick:function(t){return e.editData(a,t)}},"Edit")))))})))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement(g,{user:this.state.user,update:this.updateApp}),l.a.createElement("div",null))))}},{key:"updateApp",value:function(e){"function"===typeof this.props.update&&(console.log("updateParent OrderDList.js",e),this.props.update(e),N()("#orderModal").modal({show:!1}))}},{key:"removeData",value:function(e,a){a.preventDefault(),"function"===typeof this.props.remove&&(console.log("Remove Data @ odlist.js",e),this.props.remove(e))}},{key:"editData",value:function(e,a){a.preventDefault(),N()("#orderModal").modal({show:!0}),this.setState({user:e})}}]),a}(l.a.Component),x=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).editData=t.editData.bind(Object(d.a)(t)),t.updateApp=t.updateApp.bind(Object(d.a)(t)),t.removeData=t.removeData.bind(Object(d.a)(t)),t.state={user:{}},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement("h4",{className:"my-3"},"Order Details List"),l.a.createElement("table",{className:"table table-striped"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{width:"7%"},"Order No"),l.a.createElement("th",{width:"20%"},"Order"),l.a.createElement("th",{width:"20%"},"Name"),l.a.createElement("th",null,"Items"),l.a.createElement("th",null,"Cost"),l.a.createElement("th",null,"Total"),l.a.createElement("th",null,"Delete"),l.a.createElement("th",null,"Edit")),this.props.users.map((function(a){return l.a.createElement("tr",{key:a.uid,style:{}},l.a.createElement("td",{className:""},a.orderno),l.a.createElement("td",{className:""},a.order),l.a.createElement("td",{className:""},a.name),l.a.createElement("td",{className:""},a.items),l.a.createElement("td",{className:""},a.price),l.a.createElement("td",{className:""},a.total),l.a.createElement("td",{className:""},l.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(t){return e.removeData(a,t)}},"Delete")),l.a.createElement("td",{className:""},l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(t){return e.editData(a,t)}},"Edit")))})))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement(g,{user:this.state.user,update:this.updateApp}),l.a.createElement("div",null))))}},{key:"updateApp",value:function(e){"function"===typeof this.props.update&&(console.log("updateParent OrderDList.js",e),this.props.update(e),N()("#orderModal").modal({show:!1}))}},{key:"removeData",value:function(e,a){a.preventDefault(),"function"===typeof this.props.remove&&(console.log("Remove Data @ odlist.js",e),this.props.remove(e))}},{key:"editData",value:function(e,a){a.preventDefault(),N()("#orderModal").modal({show:!0}),this.setState({user:e})}}]),a}(l.a.Component),k=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).addUser=function(e){console.log("Added form details"),e.preventDefault();var a=t.refs.fname.value,r=t.refs.lname.value,l=t.refs.email.value,n=t.refs.phone.value,s=t.refs.order.value,c=t.refs.orderno.value,o=t.refs.items.value,m=t.refs.price.value,i=a+" "+r,d=(parseInt(o)*parseInt(m)).toLocaleString("en-IN"),u=t.refs.uid.value,p=a&&r&&i&&l&&n&&s&&c&&o&&m&&d;if(u&&p){var f=t.state.users,E=f.findIndex((function(e){return e.uid===u}));f[E].fname=a,f[E].lname=r,f[E].name=i,f[E].email=l,f[E].phone=n,f[E].order=s,f[E].orderno=c,f[E].items=o,f[E].price=m,f[E].total=d,t.setState({users:f})}else if(p){var v={email:l,fname:a,items:o,lname:r,name:i,order:s,orderno:c,phone:n,price:m,total:d,uid:(new Date).getTime().toString()};t.props.action(v),console.log(v)}t.refs.uid.value="",t.refs.fname.value="",t.refs.lname.value="",t.refs.email.value="",t.refs.phone.value="",t.refs.order.value="",t.refs.orderno.value="",t.refs.items.value="",t.refs.price.value="",t.refs.total.value=""},t.add=function(){t.props.action({email:"email@sample.com",fname:"Ravi",items:"200",lname:"Test",name:"Ravi Test",order:"Ravi Books",orderno:"8001",phone:"8123456789",price:"50",total:"10,000",uid:"1675303448945"})},t.state={users:[]},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement("h4",{className:"my-3"},"Add Order"),l.a.createElement("form",null,l.a.createElement("div",{className:"form-row"},l.a.createElement("input",{type:"hidden",ref:"uid"}),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Oder No"),l.a.createElement("input",{type:"text",ref:"orderno",className:"form-control",placeholder:"Oder No"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Oder Name"),l.a.createElement("input",{type:"text",ref:"order",className:"form-control",placeholder:"Oder Name"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Number of Items"),l.a.createElement("input",{type:"number",ref:"items",className:"form-control",placeholder:"Number of Items"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Item Price"),l.a.createElement("input",{type:"number",ref:"price",className:"form-control",placeholder:"Item Cost"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Total"),l.a.createElement("input",{type:"text",ref:"total",className:"form-control",placeholder:"Total Cost"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"First Name"),l.a.createElement("input",{type:"text",ref:"fname",className:"form-control",placeholder:"First Name"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Last Name"),l.a.createElement("input",{type:"text",ref:"lname",className:"form-control",placeholder:"Last Name"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{type:"text",ref:"email",className:"form-control",placeholder:"Email"})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Mobile / Phone No"),l.a.createElement("input",{type:"number",ref:"phone",className:"form-control",placeholder:"Mobile / Phone No"}))),l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.addUser},"Save"))))}}]),a}(l.a.Component),C=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).editData=t.editData.bind(Object(d.a)(t)),t.updateApp=t.updateApp.bind(Object(d.a)(t)),t.removeData=t.removeData.bind(Object(d.a)(t)),t.state={user:{}},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement("h4",{className:"my-3"},"Orders List"),l.a.createElement("table",{className:"table table-striped"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,"No"),l.a.createElement("th",null,"Order Name"),l.a.createElement("th",null,"Items"),l.a.createElement("th",null,"Cost"),l.a.createElement("th",null,"Total")),this.props.users.map((function(e){return l.a.createElement("tr",{key:e.uid,style:{}},l.a.createElement("td",{className:""},e.orderno),l.a.createElement("td",{className:""},e.order),l.a.createElement("td",{className:""},e.items),l.a.createElement("td",{className:""},e.price),l.a.createElement("td",{className:""},e.total))})))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement(g,{user:this.state.user,update:this.updateApp}),l.a.createElement("div",null))))}},{key:"updateApp",value:function(e){"function"===typeof this.props.update&&(console.log("updateParent OrderDList.js",e),this.props.update(e),N()("#orderModal").modal({show:!1}))}},{key:"removeData",value:function(e,a){a.preventDefault(),"function"===typeof this.props.remove&&(console.log("Remove Data @ odlist.js",e),this.props.remove(e))}},{key:"editData",value:function(e,a){a.preventDefault(),N()("#orderModal").modal({show:!0}),this.setState({user:e})}}]),a}(l.a.Component),w=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).state={activeId:1},t.Links=[{name:"Home",path:"/",id:1},{name:"Orders",path:"/olist",id:2},{name:"Details",path:"/od",id:3},{name:"Add",path:"/add",id:4}],t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"handleClick",value:function(e,a){this.setState({activeId:a})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("nav",{className:"nav nav-pills nav-justified"},this.Links.map((function(a){return l.a.createElement(f.b,{key:a.id,to:a.path,className:e.state.activeId===a.id?"nav-item nav-link active":"nav-item nav-link",onClick:function(t){return e.handleClick(t,a.id)}},a.name)}))))}}]),a}(l.a.Component),I=(l.a.Component,function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(i.a)(a).call(this,e))).writeUserData=function(){v.a.database().ref("/").set(t.state),console.log("DATA SAVED")},t.getUserData=function(){v.a.database().ref("/").on("value",(function(e){var a=e.val();t.setState(a)})),console.log("DATA RETRIEVED")},t.addData=function(e){if(e){var a=t.state.users;a.push(e),t.setState({users:a})}},t.removeData=function(e){if(e){var a=t.state.users,r=a.filter((function(a){return a.uid!==e.uid}));a!==r&&t.setState({users:r}),console.log("Updated Users state")}},t.updateData=function(e){if(console.log("updateData fun in app.js",e),e){console.log("if user in app.js");var a=e.fname,r=e.lname,l=e.email,n=e.phone,s=e.order,c=e.orderno,o=e.items,m=e.price,i=e.name,d=e.total,u=e.uid;if(u&&(a&&r&&i&&l&&n&&s&&c&&o&&m&&d)){console.log("Update condition met");var p=t.state.users,f=p.findIndex((function(e){return e.uid===u}));console.log("devIndex",f),p[f].fname=a,p[f].lname=r,p[f].name=i,p[f].email=l,p[f].phone=n,p[f].order=s,p[f].orderno=c,p[f].items=o,p[f].price=m,p[f].total=d,t.setState({users:p})}console.log("Updateed State appjs",t.state.users)}},v.a.initializeApp(h),t.state={users:[]},t.addData=t.addData.bind(Object(d.a)(t)),t.updateData=t.updateData.bind(Object(d.a)(t)),t.removeData=t.removeData.bind(Object(d.a)(t)),t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(f.a,{basename:"/viswa"},l.a.createElement("div",{className:"container-fluid pt-3"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement("h2",null,"Viswa Orders"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement(w,null))),l.a.createElement("div",{className:"row  my-2"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement(p.d,null,l.a.createElement(p.b,{exact:!0,path:"/",render:function(a){return l.a.createElement(C,{users:e.state.users,update:e.updateData,remove:e.removeData})}}),l.a.createElement(p.b,{exact:!0,path:"/olist",render:function(a){return l.a.createElement(x,{users:e.state.users,update:e.updateData,remove:e.removeData})}}),l.a.createElement(p.b,{exact:!0,path:"/od",render:function(a){return l.a.createElement(j,{users:e.state.users,update:e.updateData,remove:e.removeData})}}),l.a.createElement(p.b,{exact:!0,path:"/add",render:function(a){return l.a.createElement(k,{users:e.state.users,action:e.addData})}}),l.a.createElement(p.b,{render:function(e){return l.a.createElement(p.a,{to:e})}}))))))}},{key:"componentDidMount",value:function(){this.getUserData()}},{key:"componentDidUpdate",value:function(e){console.log("componentDidUpdate",e,this.state),e.users!==this.state.users&&(this.writeUserData(),console.log("componentDidUpdate, writeUserData"))}}]),a}(l.a.Component));s.a.render(l.a.createElement(I,null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.f31db90c.chunk.js.map