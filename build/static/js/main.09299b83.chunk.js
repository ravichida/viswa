(this.webpackJsonpviswa=this.webpackJsonpviswa||[]).push([[0],{36:function(e,a,t){e.exports=t(58)},58:function(e,a,t){"use strict";t.r(a);var l=t(0),r=t.n(l),n=t(30),s=t.n(n),c=(t(41),t(42),t(6)),m=t(7),o=t(9),i=t(8),u=t(14),d=t(10),p=t(33),f=t(15),E=t(23),h=t.n(E),N={apiKey:"AIzaSyD-oPhFanNSFyEuhewxCDSu8WrqzAgIn6E",authDomain:"ajax-3f330.firebaseapp.com",databaseURL:"https://ajax-3f330.firebaseio.com"},v=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(i.a)(a).call(this,e))}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("h4",{className:"my-3"},"Order Details"),this.props.users.map((function(a){return r.a.createElement("div",{key:a.uid,className:"card float-left",style:{width:"24rem",margin:"1rem"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},r.a.createElement("span",{className:"smallName"},"Name: ")," ",a.name),r.a.createElement("p",{className:"card-text"},r.a.createElement("span",{className:"smallName"},"Order No: ")," ",a.orderno),r.a.createElement("p",{className:"card-text"},r.a.createElement("span",{className:"smallName"},"Order: ")," "," "+a.order+" # "+a.items+" Nos"),r.a.createElement("p",{className:"card-text"},r.a.createElement("strong",null,"Items: "),a.items,", ",r.a.createElement("strong",null,"Price: "),r.a.createElement("i",{className:"fa fa-inr"})," ",a.price,", ",r.a.createElement("strong",null,"Total: "),r.a.createElement("i",{className:"fa fa-inr"})," ",a.total),r.a.createElement("p",{className:"card-text"},r.a.createElement("span",{className:"smallName"},"Email: "),a.email),r.a.createElement("p",{className:"card-text"},r.a.createElement("span",{className:"smallName"},"Mobole: "),a.phone),r.a.createElement("button",{onClick:function(){return e.removeData(a)},className:"btn btn-link"},"Delete"),r.a.createElement("button",{onClick:function(){return e.updateData(a)},className:"btn btn-link"},"Edit")))}))))}}]),a}(r.a.Component),b=t(21),O=t.n(b),g=t(22),y=t(32),j=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(i.a)(a).call(this,e))).updateField=function(e,a){a.preventDefault(),t.setState({user:Object(y.a)({},t.state.user,Object(g.a)({},e,"checkbox"===a.target.type?a.target.checked:a.target.value))})},t.handleFormChange=function(e){if(e.preventDefault(),"function"===typeof t.props.update){var a=t.state.user;t.props.update(a)}},t.handleFormChange=t.handleFormChange.bind(Object(u.a)(t)),t.updateField=t.updateField.bind(Object(u.a)(t)),t.uid=r.a.createRef(),t.fname=r.a.createRef(),t.lname=r.a.createRef(),t.email=r.a.createRef(),t.phone=r.a.createRef(),t.order=r.a.createRef(),t.orderno=r.a.createRef(),t.items=r.a.createRef(),t.price=r.a.createRef(),t.total=r.a.createRef(),t.state={user:{uid:"",fname:"",lname:"",email:"",phone:"",order:"",orderno:"",items:"",price:"",total:""}},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.props.user!==e.user&&this.setState({user:e.user})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("h4",{className:"my-3"},"Update Order"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-row"},r.a.createElement("input",{type:"hidden",ref:this.uid,value:this.state.user.uid||""}),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Oder No"),r.a.createElement("input",{type:"text",ref:this.orderno,value:this.state.user.orderno||"",className:"form-control",onChange:function(a){return e.updateField("orderno",a)},placeholder:"Oder No"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Oder Name"),r.a.createElement("input",{type:"text",ref:this.order,value:this.state.user.order||"",onChange:function(a){return e.updateField("order",a)},className:"form-control",placeholder:"Oder Name"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Number of Items"),r.a.createElement("input",{type:"number",ref:this.items,value:this.state.user.items||"",onChange:function(a){return e.updateField("items",a)},className:"form-control",placeholder:"Number of Items"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Item Price"),r.a.createElement("input",{type:"number",ref:this.price,value:this.state.user.price||"",onChange:function(a){return e.updateField("price",a)},className:"form-control",placeholder:"Item Cost"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Total"),r.a.createElement("input",{type:"text",ref:this.total,value:this.state.user.total||"",onChange:function(a){return e.updateField("total",a)},className:"form-control",placeholder:"Total Cost"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"First Name"),r.a.createElement("input",{type:"text",ref:this.fname,value:this.state.user.fname||"",onChange:function(a){return e.updateField("fname",a)},className:"form-control",placeholder:"First Name"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Last Name"),r.a.createElement("input",{type:"text",ref:this.lname,value:this.state.user.lname||"",onChange:function(a){return e.updateField("lname",a)},className:"form-control",placeholder:"Last Name"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"text",ref:this.email,value:this.state.user.email||"",onChange:function(a){return e.updateField("email",a)},className:"form-control",placeholder:"Email"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Mobile / Phone No"),r.a.createElement("input",{type:"number",ref:this.phone,value:this.state.user.phone||"",className:"form-control",placeholder:"Mobile / Phone No"}))),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleFormChange,"data-toggle":"modal","data-target":"#orderModal","data-show":"false"},"Save"))))}}]),a}(r.a.Component),D=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(i.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"modal fade",id:"orderModal",role:"dialog"},r.a.createElement("div",{className:"modal-dialog",style:{maxWidth:"80%"}},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"},"Modal Options"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement(j,{user:this.props.user,update:this.props.update})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal"},"Close"))))))}}]),a}(r.a.Component),x=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(i.a)(a).call(this,e))).updateData=t.updateData.bind(Object(u.a)(t)),t.state={user:{uid:"",fname:"",lname:"",email:"",phone:"",order:"",orderno:"",items:"",price:"",total:""}},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("h4",{className:"my-3"},"Order Details List"),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{width:"7%"},"Order No"),r.a.createElement("th",{width:"20%"},"Order"),r.a.createElement("th",{width:"20%"},"Name"),r.a.createElement("th",null,"Items"),r.a.createElement("th",null,"Cost"),r.a.createElement("th",null,"Total"),r.a.createElement("th",null,"Delete"),r.a.createElement("th",null,"Edit")),this.props.users.map((function(a){return r.a.createElement("tr",{key:a.uid,style:{}},r.a.createElement("td",{className:""},a.orderno),r.a.createElement("td",{className:""},a.order),r.a.createElement("td",{className:""},a.name),r.a.createElement("td",{className:""},a.items),r.a.createElement("td",{className:""},a.price),r.a.createElement("td",{className:""},a.total),r.a.createElement("td",{className:""},r.a.createElement("button",{onClick:function(){return e.removeData(a)},className:"btn btn-link"},"Delete")),r.a.createElement("td",{className:""},r.a.createElement("button",{onClick:function(){return e.updateData(a)},className:"btn btn-link"},"Edit")))})))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement(D,{user:this.state.user,update:(this.props.update,O()("#orderModal").modal({show:!1}))}),r.a.createElement("div",null))))}},{key:"updateData",value:function(e){O()("#orderModal").modal({show:!0}),this.setState({user:e})}}]),a}(r.a.Component),k=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(i.a)(a).call(this,e))).addUser=function(e){console.log("Added form details"),e.preventDefault();var a=t.refs.fname.value,l=t.refs.lname.value,r=t.refs.email.value,n=t.refs.phone.value,s=t.refs.order.value,c=t.refs.orderno.value,m=t.refs.items.value,o=t.refs.price.value,i=a+" "+l,u=(parseInt(m)*parseInt(o)).toLocaleString("en-IN"),d=t.refs.uid.value,p=a&&l&&i&&r&&n&&s&&c&&m&&o&&u;if(d&&p){var f=t.state.users,E=f.findIndex((function(e){return e.uid===d}));f[E].fname=a,f[E].lname=l,f[E].name=i,f[E].email=r,f[E].phone=n,f[E].order=s,f[E].orderno=c,f[E].items=m,f[E].price=o,f[E].total=u,t.setState({users:f})}else if(p){var h={email:r,fname:a,items:m,lname:l,name:i,order:s,orderno:c,phone:n,price:o,total:u,uid:(new Date).getTime().toString()};t.props.action(h),console.log(h)}t.refs.uid.value="",t.refs.fname.value="",t.refs.lname.value="",t.refs.email.value="",t.refs.phone.value="",t.refs.order.value="",t.refs.orderno.value="",t.refs.items.value="",t.refs.price.value="",t.refs.total.value=""},t.add=function(){t.props.action({email:"email@sample.com",fname:"Ravi",items:"200",lname:"Test",name:"Ravi Test",order:"Ravi Books",orderno:"8001",phone:"8123456789",price:"50",total:"10,000",uid:"1675303448945"})},t.state={users:[]},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("h4",{className:"my-3"},"Add Order"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-row"},r.a.createElement("input",{type:"hidden",ref:"uid"}),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Oder No"),r.a.createElement("input",{type:"text",ref:"orderno",className:"form-control",placeholder:"Oder No"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Oder Name"),r.a.createElement("input",{type:"text",ref:"order",className:"form-control",placeholder:"Oder Name"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Number of Items"),r.a.createElement("input",{type:"number",ref:"items",className:"form-control",placeholder:"Number of Items"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Item Price"),r.a.createElement("input",{type:"number",ref:"price",className:"form-control",placeholder:"Item Cost"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Total"),r.a.createElement("input",{type:"text",ref:"total",className:"form-control",placeholder:"Total Cost"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"First Name"),r.a.createElement("input",{type:"text",ref:"fname",className:"form-control",placeholder:"First Name"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Last Name"),r.a.createElement("input",{type:"text",ref:"lname",className:"form-control",placeholder:"Last Name"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"text",ref:"email",className:"form-control",placeholder:"Email"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Mobile / Phone No"),r.a.createElement("input",{type:"number",ref:"phone",className:"form-control",placeholder:"Mobile / Phone No"}))),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.addUser},"Save"))))}}]),a}(r.a.Component),C=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(i.a)(a).call(this,e))}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return console.log("This is the process.env","/viswa"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("h2",{className:"my-3"},"Home page")))}}]),a}(r.a.Component),w=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(i.a)(a).call(this,e))).writeUserData=function(){h.a.database().ref("/").set(t.state),console.log("DATA SAVED")},t.getUserData=function(){h.a.database().ref("/").on("value",(function(e){var a=e.val();t.setState(a)})),console.log("DATA RETRIEVED")},t.addData=function(e){if(e){var a=t.state.users;a.push(e),t.setState({users:a})}},t.removeData=function(e){var a=t.state.users.filter((function(a){return a.uid!==e.uid}));t.setState({users:a})},t.updateData=function(e){console.log("updateData in app.js",e);var a=e.fname,l=e.lname,r=e.email,n=e.phone,s=e.order,c=e.orderno,m=e.items,o=e.price,i=e.name,u=e.total,d=e.uid;if(d&&(a&&l&&i&&r&&n&&s&&c&&m&&o&&u)){console.log("Update condition met");var p=t.state.users,f=p.findIndex((function(e){return e.uid===d}));p[f].fname=a,p[f].lname=l,p[f].name=i,p[f].email=r,p[f].phone=n,p[f].order=s,p[f].orderno=c,p[f].items=m,p[f].price=o,p[f].total=u,t.setState({users:p})}console.log("Update form details from app.js",t.state.users)},h.a.initializeApp(N),t.state={users:[]},t.addData=t.addData.bind(Object(u.a)(t)),t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(p.a,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("h2",null,"Viswa Order Details"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{href:"/",className:"nav-link"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"/olist",className:"nav-link"},"Orders")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"/od",className:"nav-link"},"Order Details")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"/add",className:"nav-link"},"Add Order")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"/update",className:"nav-link"},"Update Order"))))),r.a.createElement("div",{className:"row  my-2"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/",component:C}),r.a.createElement(f.a,{path:"/olist",render:function(a){return r.a.createElement(x,{users:e.state.users,update:e.updateData})}}),r.a.createElement(f.a,{path:"/od",render:function(a){return r.a.createElement(v,{users:e.state.users})}}),r.a.createElement(f.a,{path:"/add",render:function(a){return r.a.createElement(k,{users:e.state.users,action:e.addData})}}),r.a.createElement(f.a,{path:"/update",render:function(a){return r.a.createElement(j,{user:e.state.users[6],update:e.updateData})}}))))))}},{key:"componentDidMount",value:function(){this.getUserData()}},{key:"componentDidUpdate",value:function(e,a){a!==this.state&&this.writeUserData()}}]),a}(r.a.Component);s.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.09299b83.chunk.js.map